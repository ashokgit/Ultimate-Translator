<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Translation Management - Ultimate Translator</title>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- External Libraries -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.8/beautify.min.js"></script>
  
  <!-- Custom Styles -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="container">
    <!-- Header Section -->
    <header class="header">
      <h1>Translation <span class="accent">Management</span></h1>
      <p class="subtitle">Update, edit, and manage your existing translations with version control</p>
      
      <!-- Navigation -->
      <div style="margin-top: 1.5rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
        <a href="index.html" class="btn btn-secondary">← Back to Home</a>
        <a href="interceptor.html" class="btn btn-secondary">Page Translation</a>
        <a href="source-change.html" class="btn btn-secondary">Source Management</a>
      </div>
    </header>

    <!-- Translation Management Form -->
    <section class="form-container">
      <h2 class="form-title">Manage Translation</h2>
      
      <form class="translation-form">
        <!-- Language Selection -->
        <div class="form-group">
          <label for="language" class="form-label">Translation Language</label>
          <select id="language" class="form-select" required>
            <option value="">Select language</option>
            <option value="en">English</option>
            <option value="es" selected>Spanish (Español)</option>
            <option value="fr">French (Français)</option>
            <option value="de">German (Deutsch)</option>
            <option value="it">Italian (Italiano)</option>
            <option value="pt">Portuguese (Português)</option>
            <option value="ru">Russian (Русский)</option>
            <option value="ja">Japanese (日本語)</option>
            <option value="ko">Korean (한국어)</option>
            <option value="zh">Chinese (中文)</option>
            <option value="ar">Arabic (العربية)</option>
            <option value="hi">Hindi (हिन्दी)</option>
          </select>
          <small style="color: var(--gray-500); font-size: 0.875rem;">
            The language of the translation you want to manage
          </small>
        </div>

        <!-- Model Name -->
        <div class="form-group">
          <label for="model-name" class="form-label">Model Name</label>
          <input 
            type="text" 
            id="model-name" 
            class="form-input" 
            value="blog"
            placeholder="e.g., blog, product, news"
            required
          >
          <small style="color: var(--gray-500); font-size: 0.875rem;">
            The content model identifier (e.g., blog, product catalog)
          </small>
        </div>

        <!-- Content ID -->
        <div class="form-group">
          <label for="content-id" class="form-label">Content ID</label>
          <input 
            type="text" 
            id="content-id" 
            class="form-input" 
            value="demo123"
            placeholder="e.g., demo123, post456"
            required
          >
          <small style="color: var(--gray-500); font-size: 0.875rem;">
            The unique identifier for the content piece you want to manage
          </small>
        </div>

        <!-- Sample Data Options -->
        <div class="form-group">
          <label class="form-label">Quick Sample Data</label>
          <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1rem;">
            <button type="button" class="sample-data-btn btn btn-secondary" 
                    data-model="blog" data-content="demo123" data-lang="es" 
                    style="font-size: 0.75rem; padding: 0.5rem 0.75rem;">
              📝 Blog Demo
            </button>
            <button type="button" class="sample-data-btn btn btn-secondary" 
                    data-model="product" data-content="prod456" data-lang="fr" 
                    style="font-size: 0.75rem; padding: 0.5rem 0.75rem;">
              🛍️ Product Demo
            </button>
            <button type="button" class="sample-data-btn btn btn-secondary" 
                    data-model="news" data-content="news789" data-lang="de" 
                    style="font-size: 0.75rem; padding: 0.5rem 0.75rem;">
              📰 News Demo
            </button>
          </div>
          <small style="color: var(--gray-500); font-size: 0.875rem;">
            Click any button above to quickly load sample data for testing
          </small>
        </div>

        <!-- Action Buttons -->
        <div class="form-group">
          <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
            <button type="button" id="fetch-button" class="btn btn-primary btn-lg" style="flex: 1; min-width: 200px;">
              <span class="fetch-btn-text">Fetch Translation</span>
              <div class="fetch-spinner spinner hidden"></div>
            </button>
            <button type="button" id="update-button" class="btn btn-success btn-lg" style="flex: 1; min-width: 200px;" disabled>
              <span class="update-btn-text">Update Translation</span>
              <div class="update-spinner spinner hidden"></div>
            </button>
          </div>
        </div>
      </form>

      <!-- Translation Editor -->
      <div id="translation-editor" class="hidden" style="margin-top: 2rem;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
          <h3 style="color: var(--gray-700); font-size: 1.125rem; font-weight: 600; margin: 0;">
            Translation Editor
          </h3>
          <div style="display: flex; gap: 0.5rem;">
            <button type="button" id="format-json" class="btn btn-secondary" style="font-size: 0.75rem; padding: 0.5rem 0.75rem;">
              🎨 Format JSON
            </button>
            <button type="button" id="reset-translation" class="btn btn-secondary" style="font-size: 0.75rem; padding: 0.5rem 0.75rem;">
              🔄 Reset
            </button>
          </div>
        </div>
        
        <div class="form-group">
          <label for="translation-content" class="form-label">Translation Content (JSON)</label>
          <textarea 
            id="translation-content" 
            class="form-textarea"
            rows="15"
            placeholder="Translation content will appear here after fetching..."
            style="font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 0.875rem;"
          ></textarea>
          <small style="color: var(--gray-500); font-size: 0.875rem;">
            Edit the JSON content above and click "Update Translation" to save your changes
          </small>
        </div>

        <!-- Translation Info -->
        <div id="translation-info" class="alert" style="background: var(--gray-50); border: 1px solid var(--gray-200); color: var(--gray-700);">
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
            <div>
              <strong>Model:</strong> <span id="info-model">-</span>
            </div>
            <div>
              <strong>Content ID:</strong> <span id="info-content-id">-</span>
            </div>
            <div>
              <strong>Language:</strong> <span id="info-language">-</span>
            </div>
            <div>
              <strong>Last Updated:</strong> <span id="info-updated">-</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Error Container -->
      <div id="error-message" class="alert alert-error hidden">
        <strong>Error:</strong> <span id="error-text"></span>
      </div>
    </section>

    <!-- Features Section -->
    <section style="margin-top: 3rem;">
      <div class="nav-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
        <div class="nav-card">
          <div class="nav-card-content">
            <div class="icon">✏️</div>
            <h3>Live JSON Editing</h3>
            <p>Edit translation content directly with syntax highlighting and real-time validation.</p>
          </div>
        </div>
        <div class="nav-card">
          <div class="nav-card-content">
            <div class="icon">🔍</div>
            <h3>Smart Search</h3>
            <p>Quickly find and fetch existing translations by model, content ID, and language.</p>
          </div>
        </div>
        <div class="nav-card">
          <div class="nav-card-content">
            <div class="icon">💾</div>
            <h3>Version Control</h3>
            <p>Track changes and maintain version history of your translation updates.</p>
          </div>
        </div>
        <div class="nav-card">
          <div class="nav-card-content">
            <div class="icon">🎨</div>
            <h3>JSON Formatting</h3>
            <p>Automatic JSON beautification and validation for clean, readable content.</p>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- JavaScript -->
  <script src="js/update-translation.js"></script>
</body>
</html>
